{% extends 'portal.html' %}

{% block content %}
<div class="row mb-3">
    <div class="col">
        <h2><i class="fas fa-angle-double-right text-primary text-primary"></i>&nbsp;&nbsp;User Settings</h2>        
    </div>
</div>

<script type="module">
    async function set_check() {
        const is_checked = document.getElementById('privacy_mode').checked; 
        try {
            await doFetch("/user_settings", {"privacy_mode": is_checked})
        } catch (e) {
            errorPrompt('Update failed.'); 
        }   
    }   
    window.set_check = set_check;
</script>

<div class="form-check form-switch">
    <input class="form-check-input" type="checkbox" role="switch" id="privacy_mode" onchange="set_check();" 
    {% if privacy_mode %} 
        checked 
    {% endif %} />
    <label class="form-check-label" for="privacy_mode">Privacy Mode</label>
</div>
   
{% endblock %}
