{% extends 'portal.html' %}

{% block content %}
<h2>Cornerstone Test</h2>

<select name="series" id="series" value="" onchange="pickSeries(event)">
    <option value="">Select...</option>
    {% for i in series %}
        <option value="{{i.0}}:::{{i.1}}">{{ i.2 }}</option>
    {% endfor %}
</select>

<div id="content"></div>
<script defer src="/static/js/viewer.js"></script>
<script type="text/javascript">
function pickSeries(evt) {
    if (evt.target.value == "") { 
        return;
    }
    values = evt.target.value.split(":::")
    studyUID = values[0]
    seriesUID = values[1]
    // console.log(seriesUID, studyUID)
    // console.log('1.3.6.1.4.1.5962.99.1.1647423216.1757746261.1397511827184.6.0', '1.3.6.1.4.1.5962.99.1.1647423216.1757746261.1397511827184.7.0')
    // run('1.3.6.1.4.1.5962.99.1.1647423216.1757746261.1397511827184.6.0', '1.3.6.1.4.1.5962.99.1.1647423216.1757746261.1397511827184.7.0')
    run(studyUID, seriesUID)
}
window.onload = async function() {
    // 
}
</script>
{% endblock %}